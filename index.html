<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <title>Contraception Point-of-Care</title>
    <link rel="manifest" href="manifest.json">
    <link rel="icon" href="favicon.ico">
    <link rel="apple-touch-icon" href="icon-192.png">
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
        }
        
        body {
            background-color: #EAEAEA;
            color: #333;
            line-height: 1.6;
            overflow-x: hidden;
        }
        
        header {
            background-color: white;
            color: black;
            text-align: center;
            padding: 16px;
            border-bottom: 1px solid #ddd;
        }
        
        h1 {
            font-size: 20px;
            font-weight: 500;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding-bottom: 80px; /* Space for footer */
        }
        
        .grid-buttons {
            margin-top: 16px;
        }
        
        .grid-button {
            display: block;
            width: 100%;
            padding: 16px;
            background-color: white;
            border: none;
            border-bottom: 1px solid #ddd;
            text-align: center;
            font-size: 16px;
            color: black;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        
        .grid-button:active {
            background-color: #f0f0f0;
        }
        
        .content-view {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: white;
            z-index: 200;
            display: none;
            flex-direction: column;
        }
        
        .content-header {
            background-color: white;
            padding: 16px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #ddd;
            z-index: 201;
        }
        
        .content-title {
            font-size: 18px;
            text-align: center;
            width: 100%;
            font-weight: 500;
        }
        
        .back-button {
            color: #007AFF;
            font-size: 18px;
            background: none;
            border: none;
            cursor: pointer;
            text-align: left;
            padding: 0;
            width: 60px;
        }
        
        .content-body {
            flex-grow: 1;
            overflow: auto;
            background-color: white;
        }
        
        /* PDF object styling */
        .pdf-container {
            width: 100%;
            height: 100%;
            overflow: auto;
            -webkit-overflow-scrolling: touch;
        }
        
        .pdf-img {
            display: block;
        }
        
        /* Landscape images - fit height, allow horizontal scrolling */
        .pdf-img.landscape {
            max-height: 100%;
            width: auto;
        }
        
        /* Portrait images - fit width, allow vertical scrolling */
        .pdf-img.portrait {
            width: 100%;
            height: auto;
            max-height: none;
        }
        
        /* Section content styling */
        #section-content {
            padding: 16px;
            background-color: #EAEAEA;
            line-height: 1.6;
        }
        
        #section-content p {
            margin-bottom: 16px;
        }
        
        #section-content a {
            color: #007AFF;
            text-decoration: none;
        }
        
        footer {
            position: fixed;
            bottom: 0;
            width: 100%;
            display: flex;
            justify-content: space-around;
            background-color: #f9f9f9;
            border-top: 1px solid #ddd;
            padding: 8px 0;
            z-index: 100;
        }
        
        .footer-button {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 8px;
            color: #777;
            text-decoration: none;
            font-size: 11px;
            width: 25%;
            text-align: center;
        }
        
        .footer-icon {
            font-size: 24px;
            margin-bottom: 4px;
        }
        
        .footer-button.active {
            color: #007AFF;
        }
    </style>
</head>
<body>
    <header>
        <h1>Contraception Point-of-Care</h1>
    </header>
    
    <div class="container" id="main-screen">
        <div class="grid-buttons">
            <button class="grid-button" data-title="Medical Eligibility Criteria" data-img="medical-eligibility-criteria.jpg">Medical Eligibility Criteria</button>
            <button class="grid-button" data-title="Quick Start Algorithms" data-img="quick-start-algorithms.jpg">Quick Start Algorithms</button>
            <button class="grid-button" data-title="OCP & Other Method Formulations" data-img="ocp-other-method-formulations.jpg">OCP & Other Method Formulations</button>
            <button class="grid-button" data-title="How to Choose/Adjust Pill" data-img="how-to-choose-adjust-pill.jpg">How to Choose/Adjust Pill</button>
            <button class="grid-button" data-title="Contraception STEPS table" data-img="contraception-steps-table.jpg">Contraception STEPS table</button>
            <button class="grid-button" data-title="Emerg Contrac (EC) STEPS table" data-img="emerg-contrac-ec-steps-table.jpg">Emerg Contrac (EC) STEPS table</button>
            <button class="grid-button" data-title="Fertility Awareness STEPS table" data-img="fertility-awareness-steps-table.jpg">Fertility Awareness STEPS table</button>
            <button class="grid-button" data-title="Method Effectiveness" data-img="method-effectiveness.jpg">Method Effectiveness</button>
            <button class="grid-button" data-title="Missed-Late Pills-Patch-Ring" data-img="missed-late-pills-patch-ring.jpg">Missed-Late Pills-Patch-Ring</button>
            <button class="grid-button" data-title="How to Switch Methods" data-img="how-to-switch-methods.jpg">How to Switch Methods</button>
            <button class="grid-button" data-title="Contraception Prerequisites" data-img="contraception-prerequisites.jpg">Contraception Prerequisites</button>
            <button class="grid-button" data-title="Reasonably Certain Not Pregnant" data-img="reasonably-certain-not-pregnant.jpg">Reasonably Certain Not Pregnant</button>
            <button class="grid-button" data-title="Mgmt Irreg Bleeding on Contrac" data-img="mgmt-irreg-bleeding-on-contrac.jpg">Mgmt Irreg Bleeding on Contrac</button>
            <button class="grid-button" data-title="‚ìò about S.T.E.P.S. approach" data-img="about-steps-approach.jpg">‚ìò about S.T.E.P.S. approach</button>
        </div>
    </div>
    
    <div class="content-view" id="pdf-viewer">
        <div class="content-header">
            <button class="back-button">Back</button>
            <div class="content-title" id="content-title">Guide Title</div>
            <div style="width: 60px;"></div> <!-- Spacer for alignment -->
        </div>
        <div class="content-body" id="content-body">
            <!-- PDF content will be embedded here -->
        </div>
    </div>
    
    <!-- Section content view -->
    <div class="content-view" id="content-section">
        <div class="content-header">
            <button class="back-button">Back</button>
            <div class="content-title" id="section-title">Section Title</div>
            <div style="width: 60px;"></div> <!-- Spacer for alignment -->
        </div>
        <div class="content-body" id="section-content">
            <!-- Section content will be inserted here -->
        </div>
    </div>

    <footer>
        <a href="#" class="footer-button active" data-section="home">
            <div class="footer-icon">üè†</div>
            <div class="footer-text">Home</div>
        </a>
        <a href="#" class="footer-button" data-section="disclaimer">
            <div class="footer-icon">‚ö†Ô∏è</div>
            <div class="footer-text">Disclaimer</div>
        </a>
        <a href="#" class="footer-button" data-section="about">
            <div class="footer-icon">‚ÑπÔ∏è</div>
            <div class="footer-text">About App</div>
        </a>
        <a href="#" class="footer-button" data-section="references">
            <div class="footer-icon">üìö</div>
            <div class="footer-text">References</div>
        </a>
    </footer>

    <script>
        // Setup the grid buttons
        document.querySelectorAll('.grid-button').forEach(button => {
            button.addEventListener('click', function() {
                const title = this.getAttribute('data-title');
                const imgFile = this.getAttribute('data-img');
                
                // Set the title
                document.getElementById('content-title').textContent = title;
                
                // Create the embedded view
                const contentBody = document.getElementById('content-body');
                contentBody.innerHTML = ''; // Clear previous content
                
                // Create a container div with scrolling
                const container = document.createElement('div');
                container.className = 'pdf-container';
                
                // Use an image instead of PDF for better control
                const img = document.createElement('img');
                img.className = 'pdf-img';
                img.src = imgFile;
                img.alt = title;
                
                // Detect orientation when image loads and apply appropriate class
                img.onload = function() {
                    if (this.naturalWidth > this.naturalHeight) {
                        // Landscape: width > height
                        this.classList.add('landscape');
                    } else {
                        // Portrait: height >= width
                        this.classList.add('portrait');
                    }
                };
                
                container.appendChild(img);
                contentBody.appendChild(container);
                
                // Show the PDF viewer
                document.getElementById('pdf-viewer').style.display = 'flex';
                document.getElementById('main-screen').style.display = 'none';
                document.getElementById('content-section').style.display = 'none';
                
                // Update active footer button
                document.querySelectorAll('.footer-button').forEach(btn => {
                    btn.classList.remove('active');
                });
                document.querySelector('[data-section="home"]').classList.add('active');
            });
        });
        
        // Setup the footer buttons
        document.querySelectorAll('.footer-button').forEach(button => {
            button.addEventListener('click', function(e) {
                e.preventDefault();
                const section = this.getAttribute('data-section');
                
                // Highlight active button
                document.querySelectorAll('.footer-button').forEach(btn => {
                    btn.classList.remove('active');
                });
                this.classList.add('active');
                
                if (section === 'home') {
                    // Return to main screen
                    document.getElementById('pdf-viewer').style.display = 'none';
                    document.getElementById('content-section').style.display = 'none';
                    document.getElementById('main-screen').style.display = 'block';
                } else {
                    // Show content section
                    document.getElementById('main-screen').style.display = 'none';
                    document.getElementById('pdf-viewer').style.display = 'none';
                    
                    // Setup content section
                    const contentSection = document.getElementById('content-section');
                    contentSection.style.display = 'flex';
                    
                    // Set title and content
                    document.getElementById('section-title').textContent = this.querySelector('.footer-text').textContent;
                    
                    // Load content based on section
                    const contentBody = document.getElementById('section-content');
                    
                    switch(section) {
                        case 'disclaimer':
                            contentBody.innerHTML = `
                                <p>Dear Colleague,</p>
                                <p>This tool provides decision-support information to assist you in considering contraception appropriate for your patient. Information is from the primary medical literature, textbooks, guidelines, and authoritative medical organizations (see references). The author of the app has tried to faithfully present the guidance of others and not to substitute their own judgement. If you believe there is an inaccuracy in the information presented, please contact me immediately at About App tab email, <a href="mailto:jds.pocapps@gmail.com">jds.pocapps@gmail.com</a>.</p>
                                <p>This app is no substitute for knowledge, training, and experience in contraception. The app is merely a quick reference of reminders and updates on material you should already be familiar with.</p>
                                <p>And like any other general guide, these resources suggest how you might manage the average patient. But, this guide may not tell you how to manage the single unique patient at hand right now. You must have a thorough knowledge of contraception care. You must have awareness of your own local standards and circumstances. And you must do your own thinking.</p>
                            `;
                            break;
                        case 'about':
                            contentBody.innerHTML = `
                                <p>Written to put quick reference information about contraception in the hands of clinicians at the point of care.</p>
                                <p><strong>CONTENT & DESIGN:</strong><br>
                                Reproductive Health Access Project & Joshua Steinberg MD, UHS Wilson Family Medicine Residency, Binghamton NY</p>
                                <p><strong>PROGRAMMING, DESIGN, PROJECT MGMT:</strong><br>
                                Joshua Steinberg MD</p>
                                <p><strong>VERSION:</strong><br>
                                2.60</p>
                                <p><strong>BUILD:</strong><br>
                                1</p>
                                <p><strong>RELEASE:</strong><br>
                                September, 2025</p>
                                <p><strong>FEEDBACK:</strong><br>
                                <a href="mailto:jds.pocapps@gmail.com">jds.pocapps@gmail.com</a></p>
                            `;
                            break;
                        case 'references':
                            contentBody.innerHTML = `
                                <p>Reproductive Health Access Project at: <a href="https://www.reproductiveaccess.org" target="_blank">www.reproductiveaccess.org</a></p>
                                <p>Planned Parenthood contraceptive method information at: <a href="https://www.plannedparenthood.org/learn/birth-control" target="_blank">www.plannedparenthood.org/learn/birth-control</a></p>
                                <p>World Health Organization contraceptive method information at: <a href="https://www.who.int/en/news-room/fact-sheets/detail/family-planning-contraception" target="_blank">www.who.int/en/news-room/fact-sheets/detail/family-planning-contraception</a></p>
                                <p>CDC Contraceptive Guidance for Health Care Providers at: <a href="https://www.cdc.gov/reproductivehealth/contraception/contraception_guidance.htm" target="_blank">www.cdc.gov/reproductivehealth/contraception/contraception_guidance.htm</a></p>
                                <p>U.S. Selected Practice Recommendations for Contraceptive Use, 2024, Curtis KM, Nguyen AT, Tepper NK, et. al., US Department of Health and Human Services/Centers for Disease Control and Prevention, MMWR Aug. 8, 2024, Vol. 73, No. 3.</p>
                                <p>U.S. Selected Practice Recommendations for Contraceptive Use, 2016, Curtis KM, Jatlaoui TC, Tepper NK, et. al., US Department of Health and Human Services/Centers for Disease Control and Prevention, MMWR July 29, 2016, Vol. 65, No. 4.</p>
                                <p>Bradley S, et. al. "Contaceptive Efficacy", chapter 5, in Kowal D, et. al., "Contraceptive Technology: 22nd Revised Edition", Jones & Bartlett Learning, 2023.</p>
                                <p>Trussell J, et. al. "Emergency Contraception", chapter 6, and "Contaceptive Efficacy", chapter 26, in Hatcher RA, et. al., "Contraceptive Technology: 21st Revised Edition", Ardent Media, 2018.</p>
                                <p>Cerel-Shul SL, Yeager BF, "Update on Oral Contraceptive Pills", American Family Physician, vol. 60, no. 7, p. 2073-2084, Nov. 1, 1999.</p>
                                <p>Dickey RP, "Managing Contraceptive Pill Patients: 15th Edition", EMIS, 2014.</p>
                                <p>Gold M, "Prescribing and Managing Oral Contraceptive Pills and Emergency Contraception for Adolescents", Pediatric Clinics of North America. August 1999;46(4): 695-718.</p>
                                <p>Lesnewski R, Prine L, "Initiating Hormonal Contraception", American Family Physician, vol. 74, no. 1, p. 105-112, Jul 1, 2006.</p>
                                <p>Nelson AL, "Extended-Cycle Oral Contraception", Treat Endocrinol 2005: 4 (3):139-145.</p>
                                <p>Schlaff WD, Lynch AM, et. al., "Manipulation of the pill-free interval in oral contraceptive pill users: the effect of follicular suppression", Am J Obstet Gynecol. 2004:190(4):943-951.</p>
                                <p>Zieman M, Hatcher RA, et. al., "Managing Contraception for Your Pocket 13th Edition", Ardnet Media, 2015.</p>
                                <p>Smoley BA, Robinson CM, "Natural Family Planning", American Family Physician, vol. 86, no. 10, p. 924-928, Nov. 15, 2012.</p>
                                <p>Turok D, et. al., "Levonorgestrel vs. Copper Intrauterine Devices for Emergency Contraception", New England Journal Medicine, vol. 384, no. 4, p. 335-344, Jan, 28, 2021.</p>
                                <p>Paulen, ME, Curtis KM, When can a woman have repeat progestogen-only injectables--depot medroxyprogesterone acetate or norethisterone enantate? Contraception, vol. 80, 2009, pg. 391-408.</p>
                                <p>Depo-Provera prescribing information, Pfizer Inc., NY, NY, USA, revised January, 2015. Accessed at www.Pfizer.com Oct. 2, 2015.</p>
                                <p>Depo-Provera product monograph, Pfizer Canada Inc., Kirkland, Quebec, Canada, revised December 23, 2013. Accessed at www.Pfizer.ca Oct. 2, 2015.</p>
                            `;
                            break;
                    }
                }
            });
        });
        
        // Setup the back button
        document.querySelectorAll('.back-button').forEach(button => {
            button.addEventListener('click', function() {
                // Hide all views
                document.getElementById('pdf-viewer').style.display = 'none';
                document.getElementById('content-section').style.display = 'none';
                
                // Show main screen
                document.getElementById('main-screen').style.display = 'block';
                
                // Reset active footer button
                document.querySelectorAll('.footer-button').forEach(btn => {
                    btn.classList.remove('active');
                });
                document.querySelector('[data-section="home"]').classList.add('active');
            });
        });
    </script>
</body>
</html>